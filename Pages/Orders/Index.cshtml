@page
@model TodoApi.Pages.Orders.Index
@{
    ViewData["Title"] = "Anotar Pedido";
}


<div class="flex justify-center">
    <div class="p-5 border border-slate-300 rounded w-1/2 bg-white">
        <form>
            <input id="rows" type="number" value="0" hidden />
            <div class="flex flex-col justify-center items-center">
                <label class="mb-1 w-full">Informe a mesa:</label>
                <input type="number" name="tableId" placeholder="Número da mesa" class="p-2 border rounded mb-3 w-full" min="1" />

                <label class="mb-1 w-full">Selecione o garçom:</label>
                <select class="p-2 border rounded mb-3 text-gray-600 w-full">
                    <option hidden>Garçom</option>
                        @foreach (var item in Model.waiters)
                        {
                            <option value="@item.Id">@item.FirstName @item.LastName</option>
                        }
                </select>

                <div class="flex justify-center">
                    <div class="mr-2">
                        <label class="mb-1 w-full">Selecione o produto:</label>
                        <select class="p-2 border rounded mb-3 text-gray-600 w-full">
                            <option hidden>Produto</option>
                            @foreach (var item in Model.products)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                    <div class="mr-2">
                        <label class="mb-1 w-full">Selecione a quantidade:</label>
                        <input type="number" name="tableId" placeholder="Quantidade" class="p-2 border rounded mb-3 w-full" min="1" max="100" />
                    </div>
                </div>

                <button type="button" class="bg-indigo-500 hover:bg-indigo-800 text-white p-2 rounded w-1/3"  onclick="addProduct()">+ Adicionar produto</button>

                <button type="button" class="bg-green-500 hover:bg-indigo-800 text-white p-2 rounded w-1/2 mt-3"  onclick="addProduct()">Anotar pedido</button>
            </div>
        </form>
        @section Scripts {
            <script type="text/javascript">
                function addProduct(){
                    const inputCount = document.querySelector('#rows');
                    let rows = parseInt(inputCount.value) + 1;
                    inputCount.setAttribute('value', rows);
                }
        </script>
        }
    </div>
</div>

@page
@model TodoApi.Pages.Configurations.Waiters.Create
@{
    ViewData["Title"] = "Configurações - Garçom - Criar";
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@if (!ViewData.ModelState.IsValid)
{
    <div role="alert">
    <div class="bg-red-500 text-white font-semibold rounded-t px-4 py-2">
        <p>Por favor, corrija os seguintes erros:</p>

    </div>
    <div class="border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700">
        <ul>
            <li>Alguns campos podem estar vazios</li>
        </ul>
    </div>
</div>
}

<form method="post">
    <div class="mb-6 mt-6">
        <input type="number" min="1" asp-for="waiter!.Code" placeholder="Matrícula" class="
                        w-full
                        rounded-md
                        border
                        bordder-[#E9EDF4]
                        py-3
                        px-5
                        bg-[#FCFDFE]
                        text-base text-body-color
                        placeholder-[#ACB6BE]
                        outline-none
                        focus-visible:shadow-none
                        focus:border-primary
                        " />
    </div>
    <div class="mb-6">
        <input type="text" asp-for="waiter!.FirstName" placeholder="Nome" class="
                        w-full
                        rounded-md
                        border
                        bordder-[#E9EDF4]
                        py-3
                        px-5
                        bg-[#FCFDFE]
                        text-base text-body-color
                        placeholder-[#ACB6BE]
                        outline-none
                        focus-visible:shadow-none
                        focus:border-primary
                        " />
    </div>
    <div class="mb-6">
        <input type="text" asp-for="waiter!.LastName" placeholder="Sobrenome" class="
                        w-full
                        rounded-md
                        border
                        bordder-[#E9EDF4]
                        py-3
                        px-5
                        bg-[#FCFDFE]
                        text-base text-body-color
                        placeholder-[#ACB6BE]
                        outline-none
                        focus-visible:shadow-none
                        focus:border-primary
                        " />
    </div>
    <div class="mb-6">
        <input type="text" asp-for="waiter!.Phone" maxlength="15" placeholder="Telefone" onkeyup="handlePhone(event)"
            class="
                        w-full
                        rounded-md
                        border
                        bordder-[#E9EDF4]
                        py-3
                        px-5
                        bg-[#FCFDFE]
                        text-base text-body-color
                        placeholder-[#ACB6BE]
                        outline-none
                        focus-visible:shadow-none
                        focus:border-primary
                        " />
    </div>
    <div class="mb-10">
        <input type="submit" value="Cadastrar Garçom" class="
                        w-full
                        rounded-md
                        border
                        bordder-primary
                        py-3
                        px-5
                        bg-indigo-500 
                        hover:bg-indigo-600 
                        text-white 
                        font-semibold
                        cursor-pointer
                        hover:bg-opacity-90
                        transition
                        " />
    </div>
</form>

@section Scripts
{
<script>
    const handlePhone = (event) => {
        let input = event.target
        input.value = phoneMask(input.value)
    }

    const phoneMask = (value) => {
        if (!value) return ""
        value = value.replace(/\D/g, '')
        value = value.replace(/(\d{2})(\d)/, "($1) $2")
        value = value.replace(/(\d)(\d{4})$/, "$1-$2")
        return value
    }

</script>
}
